var editor = CodeMirror.fromTextArea(document.getElementById("text-editor"), {
	tabMode: "indent",
	theme: "{{@editor_theme}}",
	mode: {{@editor_mode}},
	matchBrackets: {{@editor_match_brackets}},
	lineNumbers: {{@editor_line_numbers}},
	lineWrapping: {{@editor_line_wrapping}},
	smartIndent: {{@editor_smart_indent}},
	tabSize: {{@editor_tab_size}},
	cursorBlinkRate: {{@editor_cursor_blinkrate}},
	readOnly: {{@editor_readonly}},
	styleActiveLine: {{@editor_highlight_active_line}},
	indentUnit: 4,
	autofocus: true,
	extraKeys: {
		"F11": function(cm) {
			cm.setOption("fullScreen", !cm.getOption("fullScreen"));
			$("#fullscreen_checkbox").prop("checked", !cm.getOption("fullScreen"));
        },
        "Esc": function(cm) {
			if (cm.getOption("fullScreen")) {
				cm.setOption("fullScreen", false)
				$("#fullscreen_checkbox").prop("checked", false);
			}
        }
	}
});
$(".CodeMirror").css("font-size", "{{@editor_font_size}}px");
$(".CodeMirror").css("font-family", "{{@editor_font}}");
editor.refresh();